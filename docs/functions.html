---

title: Functions


keywords: fastai
sidebar: home_sidebar

summary: "all self-defined functions can be used to extract lines from LiDAR data."
description: "all self-defined functions can be used to extract lines from LiDAR data."
nb_path: "02_functions.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_functions.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generateLPByIDS" class="doc_header"><code>generateLPByIDS</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generateLPByIDS</code>(<strong><code>idx</code></strong>)</p>
</blockquote>
<p>generate a Lpoints class based on a point list.</p>
<p>idx : bool type like [ True False  True False  True False  True  True False False]</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">idx</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">30</span>
<span class="nb">print</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="n">lp</span> <span class="o">=</span> <span class="n">generateLPByIDS</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lp</span><span class="o">.</span><span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
<span class="nb">print</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lp</span><span class="o">.</span><span class="n">dic</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">dic</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">a</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">dic</span><span class="o">.</span><span class="n">values</span><span class="p">())]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[37 12 72  9 75  5 79 64 16  1]
[ True False  True False  True False  True  True False False]
[0, 1, 2, 3, 4]
[0, 2, 4, 6, 7]
[0 2 4 6 7]
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([37, 72, 75, 79, 64])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getPointsFromSource" class="doc_header"><code>getPointsFromSource</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L23" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getPointsFromSource</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Based on the class LPoints, obtain points from the original data.</p>
<p>{'LP': lp, 'POINTS':xyz}</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">idx</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">30</span>
<span class="nb">print</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="n">lp</span> <span class="o">=</span> <span class="n">generateLPByIDS</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;LP&#39;</span><span class="p">:</span> <span class="n">lp</span><span class="p">,</span> <span class="s1">&#39;POINTS&#39;</span><span class="p">:</span><span class="n">a</span><span class="p">}</span>
<span class="n">getPointsFromSource</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[37 12 72  9 75  5 79 64 16  1]
[ True False  True False  True False  True  True False False]
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([37, 72, 75, 79, 64])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,(</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">idx</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span>
<span class="nb">print</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="n">lp</span> <span class="o">=</span> <span class="n">generateLPByIDS</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;LP&#39;</span><span class="p">:</span> <span class="n">lp</span><span class="p">,</span> <span class="s1">&#39;POINTS&#39;</span><span class="p">:</span><span class="n">a</span><span class="p">}</span>
<span class="n">getPointsFromSource</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[[37 12 72]
 [ 9 75  5]
 [79 64 16]
 [ 1 76 71]
 [ 6 25 50]
 [20 18 11]
 [28 29 14]
 [50 68 13]]
[ True False False  True  True False False False]
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[37, 12, 72],
       [ 1, 76, 71],
       [ 6, 25, 50]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="locatePointsFromBuffer_3D" class="doc_header"><code>locatePointsFromBuffer_3D</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L33" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>locatePointsFromBuffer_3D</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Description: obtain points from original point cloud base on the image buffer in 3D space</p>

<pre><code>        self-defined the range of Z axis (Height) is used.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="calOutlierByIQR" class="doc_header"><code>calOutlierByIQR</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L65" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>calOutlierByIQR</code>(<strong><code>a</code></strong>)</p>
</blockquote>
<p>Calculating the Outlier Fences Using the Interquartile Range.
return: [lower inner fence, lower outer fence, upper inner fence, upper outer fence]</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">calOutlierByIQR</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">d</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;lower_inner_fence&#39;: 38.0,
 &#39;lower_outer_fence&#39;: 26.0,
 &#39;upper_inner_fence&#39;: 70.0,
 &#39;upper_outer_fence&#39;: 82.0}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generateLineBordersByBuffer" class="doc_header"><code>generateLineBordersByBuffer</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generateLineBordersByBuffer</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>generate borders of powerlines based on the corridors</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extractLineFromTarget" class="doc_header"><code>extractLineFromTarget</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L121" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extractLineFromTarget</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>based on the corridor and the related points, extract lines from original point clouds.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extractLineFromTarget_dales" class="doc_header"><code>extractLineFromTarget_dales</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L162" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extractLineFromTarget_dales</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>based on the corridor and the related points, extract lines from original point clouds.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getVoxelKeys" class="doc_header"><code>getVoxelKeys</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L201" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getVoxelKeys</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="filterPointsByVoxel" class="doc_header"><code>filterPointsByVoxel</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/lyufunc.py#L211" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>filterPointsByVoxel</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

