---

title: Powerline Detection


keywords: fastai
sidebar: home_sidebar

summary: "Use Hough Transform to extract powerlines from LiDAR data."
description: "Use Hough Transform to extract powerlines from LiDAR data."
nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="grid_subsampling" class="doc_header"><code>grid_subsampling</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L17" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>grid_subsampling</code>(<strong><code>points</code></strong>, <strong><code>voxel_size</code></strong>)</p>
</blockquote>
<p>Define a function that takes as input an array of points, and a voxel size expressed in meters</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Arrow3D" class="doc_header"><code>class</code> <code>Arrow3D</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L46" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Arrow3D</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>z</code></strong>, <strong><code>dx</code></strong>, <strong><code>dy</code></strong>, <strong><code>dz</code></strong>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>FancyArrowPatch</code></p>
</blockquote>
<p>it is a FancyArrowPatch Class, which can be used to draw 3D arrow in PCA</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="arrow3D" class="doc_header"><code>arrow3D</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>arrow3D</code>(<strong><code>ax</code></strong>, <strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>z</code></strong>, <strong><code>dx</code></strong>, <strong><code>dy</code></strong>, <strong><code>dz</code></strong>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Add an 3d arrow to an <code>Axes3D</code> instance.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getDirctionVectorsByPCA" class="doc_header"><code>getDirctionVectorsByPCA</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getDirctionVectorsByPCA</code>(<strong><code>pca</code></strong>)</p>
</blockquote>
<p>calculate the direction vectors of PCA in a point cloud</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pointsProjectAxis" class="doc_header"><code>pointsProjectAxis</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L76" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pointsProjectAxis</code>(<strong><code>abc</code></strong>, <strong><code>startPoint</code></strong>, <strong><code>pts</code></strong>)</p>
</blockquote>
<p>calculate the points that are mapped onto the pca lines from a point cloud</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="radiusOfCylinderByLeastSq" class="doc_header"><code>radiusOfCylinderByLeastSq</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L94" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>radiusOfCylinderByLeastSq</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>use least square algorithm to calculate the radius of a cylinder</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_start_end_line" class="doc_header"><code>get_start_end_line</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L104" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_start_end_line</code>(<strong><code>pts</code></strong>)</p>
</blockquote>
<p>get the starting point and end point of a line</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cylinderSurface" class="doc_header"><code>cylinderSurface</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L112" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cylinderSurface</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>generate the surface of a cylinder</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extractFeathersByPointCloud" class="doc_header"><code>extractFeathersByPointCloud</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L135" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extractFeathersByPointCloud</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>calculate the axis length sphericity, linarity and planarity of a point cloud</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Hough-Transform">Hough Transform<a class="anchor-link" href="#Hough-Transform"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pointsToRaster" class="doc_header"><code>pointsToRaster</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L156" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pointsToRaster</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Transform a point cloud to a raster image</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getCellIDByPolarCoordinates" class="doc_header"><code>getCellIDByPolarCoordinates</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L180" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getCellIDByPolarCoordinates</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Get the indices of cells according to polar coordinates</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="houghToRasterByCellID" class="doc_header"><code>houghToRasterByCellID</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L234" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>houghToRasterByCellID</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Transform the result of Hough transform to a raster image</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="recordHoughLines" class="doc_header"><code>recordHoughLines</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L247" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>recordHoughLines</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>encapsulate each hough line into a class HLine and save all hough lines in an array</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="countNumOfConsecutiveObj" class="doc_header"><code>countNumOfConsecutiveObj</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L294" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>countNumOfConsecutiveObj</code>(<strong>*<code>args</code></strong>)</p>
</blockquote>
<p>count the number of consecutive 0</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="calRowByColViaLineEquation" class="doc_header"><code>calRowByColViaLineEquation</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L310" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>calRowByColViaLineEquation</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>compute row:y according to col:x based on a line equation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generateCorridorByLine" class="doc_header"><code>generateCorridorByLine</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L340" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generateCorridorByLine</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>generate a powerline corridor in a raster image</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generateBuffer" class="doc_header"><code>generateBuffer</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L361" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generateBuffer</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>generate buffer zone based on the hough transform</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="locatePointsFromBuffer" class="doc_header"><code>locatePointsFromBuffer</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L393" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>locatePointsFromBuffer</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>obtain points from original point cloud base on the image buffer</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="locatePointsFromBufferSlideWindow" class="doc_header"><code>locatePointsFromBufferSlideWindow</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L418" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>locatePointsFromBufferSlideWindow</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>obtain points from original point cloud base on the image buffer</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getFeaturesFromPointCloud" class="doc_header"><code>getFeaturesFromPointCloud</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L447" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getFeaturesFromPointCloud</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>obtain the features of each point</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Self-defined-Data-Structure">Self-defined Data Structure<a class="anchor-link" href="#Self-defined-Data-Structure"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LPoints" class="doc_header"><code>class</code> <code>LPoints</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L472" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LPoints</code>(<strong><code>args</code></strong>)</p>
</blockquote>
<p>the class is used to record the points' indices in the original dataset.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generateLPByIDS" class="doc_header"><code>generateLPByIDS</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L484" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generateLPByIDS</code>(<strong><code>idx</code></strong>)</p>
</blockquote>
<p>generate a Lpoints class based on a point list</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Hline" class="doc_header"><code>class</code> <code>Hline</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L491" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Hline</code>(<strong>*<code>args</code></strong>)</p>
</blockquote>
<p>a class is used to record the details of lines extracted by Hough Transform</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImageBuffer" class="doc_header"><code>class</code> <code>ImageBuffer</code><a href="https://github.com/lyuhaitao/lyutool/tree/master/lyutool/core.py#L506" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ImageBuffer</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>it is use to record the buffer image details of powerline corridors</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

